<!DOCTYPE html>
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Name Form</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
	<h1> Enter Your Name </h1>
	<form id="fullName">
		<label for="firstName">First Name:</label>
        <input type="text" id="firstName" name="firstName" required>
        <span id="firstNameError" style="color:red; display: none;"> First name is required!</span>

        <label for="lastName">Last Name:</label>
        <input type="text" id="lastName" name="lastName" required>
        <span id="lastNameError" style="color:red; display: none;"> Last name is required!</span>

        <input type="submit" value="Submit">
    </form>

    <script>
    	 $(document).ready(function() {
    	 	$('#fullName').submit(function(event) {
    	 		event.preventDefault();

                $('#firstNameError').hide();
                $('#lastNameError').hide();

    	 		var firstName = $('#firstName').val().trim();
    	 		var lastName = $('#lastName').val().trim();

                var isValid = true;
                
                if (firstName === ''){
                    $('#firstNameError').show();
                    isValid = false;
                }

                if (lastName == ''){
                    $('#lastNameError').show();
                    isValid = false;
                }

    	 		if (isValid) {
                    $.ajax({
        	 			url: 'http://localhost:3000/api/name',
        	 			type: 'POST',
        	 			data: JSON.stringify({
                           "firstName": firstName,
                           "lastName": lastName
                       }),
                        contentType: 'application/json',
        	 			success: function(response) {
                            alert('Name submitted successfully!'); // Show success message
                        },
                        error: function() {
                            alert('There was a problem encountered'); // Show error message
                        }
        	 		});
                }
            });
        });
    </script>

</body>
</html>
